<%- include('../partials/header'); %> <%- include('../partials/navbar'); %>
<div class="container mt-2">
  <div class="d-flex justify-content-between">
    <h2><%= season.Name %></h2>
    <p>Page: <span class="badge text-bg-primary"><%= pageId %></span></p>
  </div>
  <ul class="list-group">
    <% season.Files.forEach(file => { %>
    <li class="list-group-item list-group-item-action d-flex flex-column" style="margin: 0; padding: 0;">
      <div
        style="width: 100%"
        class="d-flex justify-content-between align-items-center px-4 py-2"
      >
        <p><%= file.FileName %></p>
        <div>
          <a href="/play_from_beginning/<%= file.Id %>" class="btn btn-primary"
            ><i class="fa-solid fa-play mr-2"></i> Play From Beginning</a
          >
          <a href="/resume_play/<%= file.Id %>" class="btn btn-success"
            ><i class="fa-solid fa-forward-step mr-2"></i> Resume</a
          >
        </div>
      </div>
      <div
        style="height: 0.2rem; width: <%= file.percentCompleted %>%"
        class="bg-primary"
      ></div>
    </li>
    <% }) %>
  </ul>
  <div class="d-flex justify-content-between">
    <a href="/seasons" class="btn btn-success"
      ><i class="fa-solid fa-arrow-left"></i> Back to Seasons</a
    >
    <div>
      <% if(Number.parseInt(pageId) > 1) { %>
      <a href="<%= Number.parseInt(pageId) - 1 %>" class="btn btn-primary mr-2"
        ><i class="fa-solid fa-backward"></i> Previous</a
      >
      <% } %> <% if(season.Files.length === Number.parseInt(limit) ) { %>
      <a href="<%= Number.parseInt(pageId) + 1 %>" class="btn btn-primary"
        >Next <i class="fa-solid fa-forward"></i
      ></a>
      <% } %>
    </div>
  </div>
</div>
<%- include('../partials/footer'); %>
